<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>美味点菜系统</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9f6f1;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 20px 0;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        header h1 {
            font-size: 2.5rem;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        header p {
            color: #5a3e36;
            font-size: 1.1rem;
            margin-top: 10px;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            padding: 12px 20px 12px 40px;
            border: none;
            border-radius: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            font-size: 1rem;
        }
        
        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #888;
        }
        
        .category-filter {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .category-btn {
            padding: 8px 16px;
            background-color: #fff;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .category-btn:hover, .category-btn.active {
            background-color: #ff6b6b;
            color: white;
        }
        
        .dishes-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .dish-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .dish-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .dish-image {
            height: 180px;
            background-color: #ff9a9e;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            background: linear-gradient(to right, #ff9a9e, #fad0c4);
        }
        
        .dish-content {
            padding: 15px;
        }
        
        .dish-content h3 {
            margin-bottom: 10px;
            color: #5a3e36;
        }
        
        .dish-content p {
            color: #777;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        .dish-select {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .dish-price {
            font-weight: bold;
            color: #ff6b6b;
        }
        
        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }
        
        .checkbox-container input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .order-summary {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
            position: sticky;
            bottom: 20px;
        }
        
        .order-summary h2 {
            color: #5a3e36;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        #selected-dishes {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 15px;
        }
        
        .selected-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px dashed #eee;
        }
        
        .order-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            font-size: 1.2rem;
            padding-top: 10px;
            border-top: 2px solid #ff6b6b;
        }
        
        .submit-btn {
            display: block;
            width: 100%;
            padding: 12px;
            background-color: #ff6b6b;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s ease;
        }
        
        .submit-btn:hover {
            background-color: #ff5252;
        }
        
        .counter {
            background-color: #ff6b6b;
            color: white;
            padding: 3px 8px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-left: 5px;
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .category-filter {
                justify-content: center;
                margin-top: 10px;
            }
            
            .dishes-container {
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>美味点菜系统</h1>
            <p>选择您喜欢的菜品，享受美食时光</p>
        </header>
        
        <div class="controls">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="search-input" placeholder="搜索菜品...">
            </div>
            
            <div class="category-filter">
                <button class="category-btn active" data-category="all">全部</button>
                <button class="category-btn" data-category="hot">热菜</button>
                <button class="category-btn" data-category="soup">汤类</button>
                <button class="category-btn" data-category="rice">主食</button>
                <button class="category-btn" data-category="seafood">海鲜</button>
            </div>
        </div>
        
        <div class="dishes-container" id="dishes-container">
            <!-- 菜品将通过JavaScript动态生成 -->
        </div>
        
        <div class="order-summary">
            <h2>订单汇总 <span class="counter" id="selected-count">0</span></h2>
            <div id="selected-dishes">
                <p class="empty-order">尚未选择任何菜品</p>
            </div>
            <!-- <div class="order-total">
                <span>总计:</span>
                <span id="total-price">¥0.00</span>
            </div> -->
            <button class="submit-btn" id="submit-order">选择完毕</button>
        </div>
    </div>

    <script>
        // 菜品数据
        const dishes = [
            { id: 1, name: "农家一碗香", category: "hot", price: 38, description: "农家风味，香气扑鼻" },
            { id: 2, name: "洋葱牛仔骨", category: "hot", price: 68, description: "牛仔骨鲜嫩，洋葱香甜" },
            { id: 3, name: "芋头滑肥肠", category: "hot", price: 58, description: "芋头软糯，肥肠爽滑" },
            { id: 4, name: "芋头滑牛肉", category: "hot", price: 62, description: "芋头与牛肉的完美结合" },
            { id: 5, name: "奥尔良鸡翅", category: "hot", price: 45, description: "经典奥尔良风味" },
            { id: 6, name: "可乐鸡翅", category: "hot", price: 42, description: "甜咸可口，肉质鲜嫩" },
            { id: 7, name: "老妈蹄花", category: "hot", price: 56, description: "传统滋补汤品" },
            { id: 8, name: "黄酒炖猪蹄", category: "hot", price: 58, description: "黄酒香气，猪蹄软烂" },
            { id: 9, name: "万物炒牛肉", category: "hot", price: 52, description: "家常小炒，美味下饭，可选配菜：孜然、洋葱、青椒" },
            { id: 10, name: "菠萝排骨", category: "hot", price: 55, description: "酸甜可口，排骨酥烂" },
            { id: 11, name: "番茄牛腩", category: "hot", price: 65, description: "番茄酸甜，牛腩软烂" },
            { id: 12, name: "卤肉饭", category: "rice", price: 32, description: "台式经典卤肉饭" },
            { id: 13, name: "海苔腊肠炒饭", category: "rice", price: 36, description: "海苔清香，腊肠浓郁" },
            { id: 14, name: "秋葵炒鸡蛋", category: "hot", price: 35, description: "营养健康，口感独特" },
            { id: 15, name: "咖喱牛肉", category: "hot", price: 58, description: "浓郁咖喱，牛肉入味" },
            { id: 16, name: "红烧排骨", category: "hot", price: 58, description: "经典红烧口味" },
            { id: 17, name: "丝瓜鸡蛋汤", category: "soup", price: 28, description: "清淡鲜美" },
            { id: 18, name: "西红柿鸡蛋汤", category: "soup", price: 25, description: "家常经典汤品" },
            { id: 19, name: "紫菜鸡蛋汤", category: "soup", price: 24, description: "简单美味" },
            { id: 20, name: "炖蛋", category: "hot", price: 22, description: "嫩滑可口" },
            { id: 21, name: "蒜蓉生蚝", category: "seafood", price: 78, description: "蒜香浓郁，生蚝鲜美" },
            { id: 22, name: "啤酒鸭", category: "hot", price: 56, description: "啤酒醇香，鸭肉鲜美" },
            { id: 23, name: "炒面", category: "hot", price: 68, description: "快乐碳水" },
            { id: 24, name: "乌鸡汤", category: "soup", price: 38, description: "营养滋补" },
            { id: 25, name: "排骨汤", category: "soup", price: 68, description: "可选配菜：海带、白萝卜、冬瓜" },
            { id: 26, name: "鸭汤", category: "soup", price: 58, description: "清淡解腻" },
            { id: 27, name: "清蒸鲈鱼", category: "hot", price: 58, description: "鲜嫩不腥" },
            { id: 28, name: "煎牛排", category: "hot", price: 58, description: "西式餐点" },
            { id: 29, name: "煎羊排", category: "hot", price: 48, description: "香味扑鼻" },
        ];

        // 初始化页面
        document.addEventListener('DOMContentLoaded', function() {
            renderDishes(dishes);
            setupEventListeners();
        });

        // 渲染菜品函数
        function renderDishes(dishesToRender) {
            const container = document.getElementById('dishes-container');
            container.innerHTML = '';
            
            dishesToRender.forEach(dish => {
                const dishElement = document.createElement('div');
                dishElement.className = 'dish-card';
                dishElement.dataset.category = dish.category;
                
                dishElement.innerHTML = `
                    <div class="dish-image">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <div class="dish-content">
                        <h3>${dish.name}</h3>
                        <p>${dish.description}</p>
                        <div class="dish-select">
                            <span class="dish-price">¥${dish.price.toFixed(2)}</span>
                            <label class="checkbox-container">
                                <input type="checkbox" data-id="${dish.id}" data-name="${dish.name}" data-price="${dish.price}">
                                点选
                            </label>
                        </div>
                    </div>
                `;
                
                container.appendChild(dishElement);
            });
        }

        // 设置事件监听器
        function setupEventListeners() {
            // 搜索功能
            document.getElementById('search-input').addEventListener('input', function(e) {
                const searchText = e.target.value.toLowerCase();
                const filteredDishes = dishes.filter(dish => 
                    dish.name.toLowerCase().includes(searchText) || 
                    dish.description.toLowerCase().includes(searchText)
                );
                renderDishes(filteredDishes);
                addCheckboxListeners();
            });

            // 分类筛选
            document.querySelectorAll('.category-btn').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    const category = this.dataset.category;
                    let filteredDishes;
                    
                    if (category === 'all') {
                        filteredDishes = dishes;
                    } else {
                        filteredDishes = dishes.filter(dish => dish.category === category);
                    }
                    
                    renderDishes(filteredDishes);
                    addCheckboxListeners();
                });
            });

            // 提交订单
            document.getElementById('submit-order').addEventListener('click', function() {
                const selectedCount = document.querySelectorAll('input[type="checkbox"]:checked').length;
                if (selectedCount === 0) {
                    alert('请至少选择一道菜品');
                    return;
                }
                
                alert('订单提交成功！即将为您准备美食！');
                // 在实际应用中，这里会有提交到服务器的代码
            });

            // 初始添加复选框监听器
            addCheckboxListeners();
        }

        // 添加复选框监听器
        function addCheckboxListeners() {
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', updateOrderSummary);
            });
        }

        // 更新订单摘要
        function updateOrderSummary() {
            const selectedCheckboxes = document.querySelectorAll('input[type="checkbox"]:checked');
            const selectedDishesContainer = document.getElementById('selected-dishes');
            const totalPriceElement = document.getElementById('total-price');
            const selectedCountElement = document.getElementById('selected-count');
            
            // 更新计数
            selectedCountElement.textContent = selectedCheckboxes.length;
            
            // 清空容器，但保留空订单消息
            if (selectedCheckboxes.length === 0) {
                selectedDishesContainer.innerHTML = '<p class="empty-order">尚未选择任何菜品</p>';
                totalPriceElement.textContent = '¥0.00';
                return;
            }
            
            // 移除空订单消息
            if (selectedDishesContainer.querySelector('.empty-order')) {
                selectedDishesContainer.innerHTML = '';
            }
            
            // 计算总价并添加选中的菜品
            let totalPrice = 0;
            selectedCheckboxes.forEach(checkbox => {
                const price = parseFloat(checkbox.dataset.price);
                totalPrice += price;
                
                const dishElement = document.createElement('div');
                dishElement.className = 'selected-item';
                dishElement.innerHTML = `
                    <span>${checkbox.dataset.name}</span>
                    <span>¥${price.toFixed(2)}</span>
                `;
                
                selectedDishesContainer.appendChild(dishElement);
            });
            
            totalPriceElement.textContent = `¥${totalPrice.toFixed(2)}`;
        }
    </script>
</body>
</html>